{"version":3,"sources":["redux/reducer/index.js","redux/store.js","redux/action/actionType.js","redux/action/actionCreator.js","api/weatherAPI.js","config/dataConfig.js","components/LocationInput.js","components/chart/BarChart.js","tool/date.js","components/chart/BaicChart.js","tool/draw.js","components/chart/PieChart.js","components/WeatherContent.js","App.js","serviceWorker.js","index.js"],"names":["initalState","maxTempList","minTempList","humidityList","locationList","woeid","city","createStore","state","action","type","tmpList","formatWeatherList","payload","list","loading","getLoactionList","map","item","title","maxList","minList","forEach","max_temp","min_temp","humidity","applicable_date","tmp","push","getLocation","getWeatcherList","fetchLoactionList","key","a","callAPI","respone","status","json","d","undefined","fetchLoactionWeatherByDate","dateString","value","url","fetch","headers","BasicBar","drawBarChartFn","connect","dispatch","localKey","test","localValue","useState","inputValue","setInputValue","history","useHistory","searchID","setSearchID","inputRef","useRef","optionList","data-id","length","filterList","filter","toUpperCase","useEffect","className","ref","onInput","e","currentTarget","searchTarget","console","log","clearTimeout","id","setTimeout","onClick","current","formatDateString","date","getFullYear","getMonth","getDate","BaicChart","props","canvasRef","React","createRef","cardRef","canvas_W","canvas_H","this","width","height","clientWidth","setState","ctx","getContext","clearRect","drawChat","data","Component","setLinearGradientColor","color","startX","startY","endX","endY","gradient","createLinearGradient","addColorStop","drawGrid","maxValue","canvasWidth","canvasHeight","scale","padding","gridValue","ratio","fix1px","lineWidth","gridY","Math","round","drawLine","drawText","drawBarList","bar_w","barCount","barSize","barIndex","barObj","barKey","Object","keys","barHeight","values","x","y","barColor","drawBar","msg","fontStyle","align","textAlign","save","fillStyle","font","fillText","restore","strokeStyle","beginPath","moveTo","lineTo","stroke","upperLeftCornerX","upperLeftCornerY","fillRect","drawPieSlice","centerX","centerY","radius","startAngle","endAngle","arc","closePath","fill","BarChartHOC","colorList","v","drawBarChart","drawPieList","drawPieChart","pieColor","count","singleWidth","min","twoPI","PI","pieObj","i","value_ratio","angleList","slicePieCenterX","start_angle","j","slice_angle","cosX","cos","sinY","sin","pieCOlor","labelX","labelY","startDate","loadingFn","setDate","tmpDateString","location","match","params","hiddenClass","setLoading","split","Date","BarChart","PieChart","App","store","exact","path","component","WeatherContent","Boolean","window","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.5874d4c9.chunk.js","sourcesContent":["import {GET_LOCATION,GET_WEATHER_BY_DATE} from '../action/actionType'\n\nconst initalState={\n    maxTempList :[],\n    minTempList :[],\n    humidityList :[],\n    locationList:[],\n    woeid : 0,\n    city: ''\n}\n\n\nexport default (state=initalState , action)=>{\n    const {type} = action;\n\n    switch(type){\n        case GET_WEATHER_BY_DATE:\n            const tmpList = formatWeatherList(action.payload.list);\n            return {\n                ...state,\n                ...tmpList,\n                loading:false,\n                woeid:action.payload.woeid,\n                city:action.payload.city\n            }\n        case GET_LOCATION:\n            return {\n                ...state,\n                locationList: getLoactionList(action.payload.list)\n            }\n        default:\n            return{\n                ...state\n            }\n    }\n\n    function getLoactionList(list){\n        return list.map((item)=>{\n            return {\n                title: item.title,\n                woeid: item.woeid\n            };\n        });\n    }\n    function formatWeatherList(list){\n        const maxList = [];\n        const minList = [];\n        const humidityList = [];\n\n        list.forEach((item)=>{\n            const {max_temp , min_temp , humidity ,applicable_date} =item;\n            let tmp = {};\n            tmp[applicable_date] = max_temp;\n            maxList.push({\n                ...tmp\n            });\n            tmp[applicable_date] = min_temp;\n            minList.push({\n                ...tmp\n            });\n            tmp[applicable_date] = humidity;\n            humidityList.push({\n                ...tmp\n            });\n        });\n\n        return {\n            maxTempList:maxList,\n            minTempList:minList,\n            humidityList:humidityList\n        };\n    }\n}\n","import reducer from './reducer/index'\nimport {createStore} from 'redux'\n\nexport default createStore(reducer);","export const GET_LOCATION = \"GET_LOCATION\";\nexport const GET_WEATHER_BY_DATE = \"GET_WEATHER_BY_DATE\";","import {GET_LOCATION,GET_WEATHER_BY_DATE} from './actionType'\n\nexport const getLocation =(list)=>{\n    return {\n        type:GET_LOCATION,\n        payload:{\n            list:list\n        }\n    }\n}\n\nexport const getWeatcherList =(woeid , city ,list)=>{\n    return {\n        type:GET_WEATHER_BY_DATE,\n        payload:{\n            woeid: woeid,\n            city: city,\n            list:list\n        }\n    }\n}","import {apiUrl} from '../config/dataConfig'\n\nexport const fetchLoactionList = async (key)=>{\n    const action = `search/?query=${key}`;\n\n    const respone = await callAPI(action);\n    if(respone.status !== 200){\n        return [];\n    }\n    const d = await respone.json();  \n    \n    return d === undefined? [] : d;\n}\n\nexport const fetchLoactionWeatherByDate = async (woeid , dateString)=>{\n    const action = `${woeid}/${dateString}/`;\n    const respone = await callAPI(action);\n    if(respone.status !== 200){\n        return [];\n    }\n\n    const d = await respone.json();\n\n    return d=== undefined? []:d;\n\n}\nconst callAPI =  (action , value)=>{\n    const url = `${apiUrl}${action}`;\n    const options = {\n        headers:{\n            \"Access-Control-Allow-Origin\": \"*\"\n        }\n    }\n    return fetch(url,options);\n}","export const apiUrl = \"https://www.metaweather.com/api/location/\";","import React, { useState, useRef, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport {getLocation} from '../redux/action/actionCreator'\nimport {fetchLoactionList} from '../api/weatherAPI'\n\nimport '../res/css/LocationInput.css'\nimport {useHistory} from 'react-router-dom'\nfunction LocationInput({locationList , getLocation , localValue}){\n    const [inputValue , setInputValue] = useState(localValue);\n    const history = useHistory();\n    const [searchID , setSearchID] = useState(0);\n    const inputRef = useRef(null);\n    let optionList = locationList.map((item)=>{\n        const {title , woeid} = item;\n        return <option key={`${item.title}=${item.woeid}`} data-id={woeid} value={title}/>\n    });\n    optionList = optionList.length === 0? <option value=\" \">No Data</option> : optionList;\n    const onLoactionChange = (e)=>{\n       \n        const key = e.currentTarget.value;\n        const searchTarget = filterList(key);\n        setInputValue(key);\n        if(searchTarget.length !== 0){\n            history.push(`/${searchTarget[0].woeid}-${searchTarget[0].title}`);\n            return;\n        }\n\n        console.log(\"...keying\");\n        clearTimeout(searchID);\n        const id = setTimeout(() => {\n            console.log(\"...searching\");\n            getLocation(key);\n        }, 500);\n        setSearchID(id);\n       \n    }\n\n    const onSearchClick  = ()=>{\n        const key = inputRef.current.value;\n        const searchTarget = filterList(key);\n        if(searchTarget.length !== 0)\n            history.push(`/${searchTarget[0].woeid}-${searchTarget[0].title}`);\n    }\n\n    const filterList = (key)=>{\n        return locationList.filter((item)=>{\n            return item.title.toUpperCase() === key.toUpperCase();\n        });\n    }\n    useEffect(()=>{\n        setInputValue(localValue);\n    },[localValue]);\n    return(\n        <div className=\"location-search\">\n            <input ref={inputRef} type=\"text\" value={inputValue} list=\"locationList\" onInput={onLoactionChange} />\n            <datalist id=\"locationList\" >\n                {optionList}\n            </datalist>\n\n            <button className=\"btnSearch\" onClick={onSearchClick}>\n                <i className=\"fa fa-search fa-2x\"></i>\n            </button>\n        </div>\n    );\n\n}\n\nconst mapStateToProps =(state)=>{\n    return {\n        locationList : state.locationList\n    }\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n    return {\n        getLocation: async (localKey)=>{\n            if(/^\\s*$/.test(localKey)){\n                dispatch(getLocation([]));\n                return;\n            }\n            \n            const list = await fetchLoactionList(localKey);\n            dispatch(getLocation(list));\n        }\n    }\n}\n\nexport default connect(mapStateToProps , mapDispatchToProps)(LocationInput);","import React from 'react'\nimport BasicBar from './BaicChart'\nimport {drawBarChart} from '../../tool/draw'\n\nconst  BarChartHOC = (BasicBar,drawBarChartFn)=>\n    class extends React.Component{\n        constructor(props){\n            super(props);\n\n        }\n        drawBarChart =(ctx , data , canvas_W , canvas_H)=>{\n            const {barColor , padding} = this.props;\n            drawBarChartFn(ctx , data , canvas_W , canvas_H , barColor , padding);\n        }\n\n        render(){\n            return(\n                <BasicBar {...this.props} drawChat={this.drawBarChart} />       \n            )\n            \n        }\n    }\n\nexport default BarChartHOC(BasicBar , drawBarChart);","export const getNowDateString = ()=>{\n    return formatDateString(new Date());\n};\n\nexport const addDate = (date , count)=>{\n    date.setDate(date.getDate() + count);\n    return formatDateString(date);\n}\n\nexport const formatDateString = (date)=>{\n    return `${date.getFullYear()}/${date.getMonth()+1}/${date.getDate()}`;\n}\n\n","import React from 'react'\n\nclass BaicChart extends React.Component{\n    constructor(props){\n        super(props);\n\n        this.canvasRef = React.createRef();\n        this.cardRef = React.createRef();\n\n        this.state ={\n            canvas_W:0,\n            canvas_H:300\n        }\n    }\n\n\n    render(){\n        return(\n            <div ref={(ref)=>{ this.cardRef  = ref}} className=\"chart-card\">\n                <h2 className={this.props.className} >{this.props.title}</h2>\n                <canvas ref={(ref)=>{ this.canvasRef = ref}} width={this.state.canvas_W} height={300} >\n                    \n                </canvas>\n            </div>\n        )\n    }\n\n    componentDidMount(){\n        const width = this.cardRef.clientWidth;\n\n        this.setState({\n            canvas_W:width,\n        });\n    }\n\n    componentDidUpdate(){\n        const ctx = this.canvasRef.getContext('2d');\n        ctx.clearRect(0 ,0 ,this.state.canvas_W, this.state.canvas_H);\n        if(this.props.drawChat && this.props.data){\n            console.log(this.props.data);\n            this.props.drawChat(ctx,this.props.data, this.state.canvas_W , this.state.canvas_H);\n        }\n           \n    }\n}\n\nexport default BaicChart;","export const drawBarChart = (ctx ,data , canvasWidth , canvasHeight , colorList , padding)=>{\n    if(data.length === 0)\n        return;\n\n    let maxValue = 0 ;\n    data.forEach((item)=>{\n        const v = Object.values(item)[0];\n        maxValue = v > maxValue? v: maxValue;  \n    });\n    const scale = Math.round(maxValue / 5);\n    drawGrid(ctx , maxValue ,  canvasWidth , canvasHeight - 100 , scale , \"#cccccc\" , padding);\n\n    drawBarList(ctx , canvasWidth , canvasHeight  - 100, data, maxValue , colorList[0] , padding);\n}\n\nexport const drawPieList = (ctx ,data, canvasWidth , canvasHeight , colorList , padding)=>{\n    if(data.length === 0)\n        return;\n\n    const count = data.length;\n    const singleWidth = (canvasWidth - padding)/ count ;\n    const centerX = singleWidth /2;\n    const centerY = canvasHeight/2;\n    const step = 10;\n    const radius =  Math.min(centerX , centerY) - step;\n    const twoPI = 2 * Math.PI;\n    data.map((pieObj , i)=>{\n        const key = Object.keys(pieObj)[0];\n        const val = Object.values(pieObj)[0];\n        const value_ratio = val / 100;\n        const empty_ratio = 1 - value_ratio;\n \n        const value_angle = twoPI * value_ratio;\n        const empty_angle = twoPI * empty_ratio;\n        const angleList = [value_angle , empty_angle];\n        const color = [ colorList[0] , colorList[1]];\n        const slicePieCenterX = centerX + (singleWidth * i);\n\n        let start_angle = 0;\n        for(let j = 0 ; j < 2; j++){\n            const slice_angle = angleList[j];\n            const cosX = Math.cos(start_angle + slice_angle/2);\n            const sinY = Math.sin(start_angle + slice_angle/2);\n            const pieCOlor = setLinearGradientColor(ctx ,color[j] , slicePieCenterX ,centerY , slicePieCenterX+ cosX * radius , centerY + sinY*radius);\n            drawPieSlice(ctx ,\n                slicePieCenterX,\n                centerY,\n                radius,\n                start_angle,\n                start_angle + slice_angle,\n                pieCOlor\n                );\n            \n\n            const labelX = slicePieCenterX + radius/2 * cosX;\n            const labelY = centerY  + radius/2 * sinY;\n            const msg = `${ Math.round(slice_angle / twoPI * 100)} %`;\n            drawText(ctx ,msg , labelX , labelY , \"#fff\" , \"bold 20px Arial\");\n            start_angle += slice_angle;\n        }\n\n        drawText(ctx ,key , slicePieCenterX , canvasHeight - padding, \"#000\" , \"15px Arial\" , \"center\");\n    });\n}\nconst setLinearGradientColor = (ctx , color , startX , startY , endX , endY)=>{\n    const gradient = ctx.createLinearGradient(startX , startY , endX , endY);\n    switch(color){\n        case \"red\":\n            gradient.addColorStop(0 , \"#e01616\" );\n            gradient.addColorStop(1, \"#e6dede\");\n                 \n            break;\n        case \"blue\":\n            gradient.addColorStop(0, \"#1107a9\");\n            gradient.addColorStop(1, \"#f1efef\");     \n            break;\n        case \"gray\":\n            gradient.addColorStop(0, \"#cccccc\");\n            gradient.addColorStop(1, \"#f1efef\");     \n            break;\n    }\n    return gradient;\n}\nconst drawGrid = (ctx , maxValue , canvasWidth , canvasHeight , scale , color , padding)=>{\n    let gridValue = 0 ;\n    \n    while(gridValue <= maxValue){\n        const ratio = 1 - gridValue / maxValue;\n        const fix1px = (ctx.lineWidth % 2 === 0) ?0: 0.5;\n        const gridY = Math.round(canvasHeight  * ratio) +fix1px + padding;\n        drawLine(ctx , padding , gridY , canvasWidth - padding  , gridY ,color);\n        const textY = (gridY === 0 ? 12 : gridY -2 ) + fix1px;\n        drawText(ctx , gridValue , 10 , textY , color , \"#000\", \"bold 10px Arial\");\n        gridValue += scale;     \n    }\n    \n}\nconst drawBarList = (ctx, canvasWidth , canvasHeight , data , maxValue , color , padding , bar_w)=>{\n    const barCount = data.length;\n    const barSize = bar_w || (canvasWidth / barCount - padding);\n    const startX = (padding || 0) + 20;\n    const step = 10;\n    for(let barIndex =0 ; barIndex < barCount ; barIndex++){\n        const barObj = data[barIndex];\n        const barKey = Object.keys(barObj)[0];\n        const barVal = Object.values(barObj)[0];\n        \n        const ratio = barVal / maxValue;\n        const barHeight = canvasHeight * ratio;\n        \n        const x = startX + barIndex * barSize;\n        const y = canvasHeight - barHeight + padding;\n\n        const barColor = setLinearGradientColor(ctx , color ,x, y,  x + barSize -step ,  barHeight);\n        drawBar(ctx, \n            x,\n            y ,\n            barSize -step,\n            barHeight,\n            barColor);\n        const textX =  x + (barSize -step) /2\n        drawText(ctx , barKey ,textX , canvasHeight + padding + 20 , \"#000\", \" 15px Arial\" , \"center\");\n    }\n}\n\n\n\n\nconst drawText = (ctx , msg , x , y , color,fontStyle , align)=>{\n    const textAlign = align || \"\";\n    ctx.save();\n    ctx.fillStyle = color;\n    ctx.font = fontStyle;\n    ctx.textAlign = textAlign;\n    ctx.fillText(msg , x , y);\n    ctx.restore();\n}\nconst drawLine = (ctx, startX, startY, endX, endY, color) =>{\n    ctx.save();//保存畫筆設定\n    ctx.strokeStyle = color;\n    ctx.beginPath();//開始新路線\n    ctx.moveTo(startX, startY);\n    ctx.lineTo(endX, endY);\n    ctx.stroke();//下筆\n\n    ctx.restore();//畫完切回原本設定\n}\nconst drawBar = (ctx , upperLeftCornerX , upperLeftCornerY, width , height , color)=>{\n    ctx.save();\n    ctx.fillStyle = color;\n    ctx.fillRect(upperLeftCornerX , upperLeftCornerY , width , height);\n    ctx.restore();\n}\n\nconst drawArc = (ctx , centerX , centerY ,radius , startAngle , endAngle)=>{\n    ctx.beginPath();\n    ctx.arc(centerX ,  centerY , radius , startAngle , endAngle);\n    ctx.stroke();\n}\n\nconst drawPieSlice =(ctx , centerX , centerY ,radius ,startAngle , endAngle ,color)=>{\n    ctx.save();\n    ctx.fillStyle = color;\n    ctx.beginPath();\n    ctx.moveTo(centerX,centerY);\n    ctx.arc(centerX ,centerY ,radius , startAngle , endAngle);\n    ctx.closePath();//以當下畫筆位置進行封閉\n    ctx.fill();//填滿\n    ctx.restore();\n}\n\n","import React from 'react'\nimport BasicBar from './BaicChart'\nimport {drawPieList} from '../../tool/draw'\n\nconst  BarChartHOC = (BasicBar,drawPieList)=>\n    class extends React.Component{\n        constructor(props){\n            super(props);\n\n        }\n        drawPieChart =(ctx ,data, canvas_W , canvas_H)=>{\n            const {pieColor , padding} = this.props;\n            drawPieList(ctx ,data , canvas_W , canvas_H , this.props.pieColor ,padding);\n        }\n\n        render(){\n            return(\n                <BasicBar {...this.props} drawChat={this.drawPieChart} />       \n            )\n            \n        }\n    }\n\nexport default BarChartHOC(BasicBar , drawPieList);","import React, { useEffect, useState } from 'react';\n\nimport LocationInput from './LocationInput';\nimport {getWeatcherList} from '../redux/action/actionCreator'\nimport {fetchLoactionWeatherByDate} from '../api/weatherAPI'\nimport { addDate } from '../tool/date';\nimport { connect } from 'react-redux';\n\nimport '../res/css/WeatherContent.css'\nimport BarChart from './chart/BarChart';\nimport PieChart from './chart/PieChart';\nfunction WeatherContent(props) {\n    const {location} = props.match.params;\n    const [hiddenClass , setLoading] = useState(\"scroll-hidden\");\n\n    useEffect(()=>{\n\n        setLoading(\"scroll-hidden\");\n        console.log(\"go into Effect...\");\n        if(location){\n            const tmp = location.split('-');\n            const [woeid , city] = tmp;\n            props.getWeatcherList(woeid ,city , new Date() , setLoading);\n        }else{\n            setLoading(\"\"); \n        }\n    },[location]);\n    return (\n        <div className={`weather ${hiddenClass}`}>\n            <LocationInput localValue={props.city} />\n            <div className={`chart-content`}>\n                <BarChart title=\"Max Temperatrue\" className=\"max\" data={props.maxTempList} barColor={[\"red\"]} padding={50}/>\n                <BarChart title=\"Min Temperatrue\" className=\"min\" data={props.minTempList} barColor={[\"blue\"]} padding={50} />\n                <PieChart title=\"Humidity\" className=\"humidity\"  data={props.humidityList} pieColor={[\"gray\", \"red\"]} padding={20} />\n            </div>\n            <div className=\"loading-mask\">\n                <div className=\"loader\"></div>\n            </div>\n        </div>\n    );\n}\n\nconst mapStateToProps = (state)=>{\n    console.log(state);\n    return {\n        ...state\n    }\n};\nconst mapDispatchToProps = (dispatch)=>{\n    return{\n        getWeatcherList: async (woeid ,city , startDate, loadingFn)=>{\n            const list = [];\n            for(let i = 1 ; i <= 5 ; i++){\n                const tmpDateString = addDate(startDate , 1);\n                const tmp = await fetchLoactionWeatherByDate(woeid , tmpDateString);\n                if(tmp.length !== 0)\n                    list.push(tmp[0]);\n            }        \n            dispatch(getWeatcherList(woeid ,city ,list));\n            loadingFn(\"\");\n        }\n    };\n};\n\nexport default connect(mapStateToProps ,mapDispatchToProps)(WeatherContent);\n","import React from 'react';\nimport './res/css/App.css';\n\nimport store from './redux/store'\nimport { Provider } from 'react-redux'\nimport LocationInput from './components/LocationInput';\nimport {HashRouter ,Route} from 'react-router-dom'\nimport WeatherContent from './components/WeatherContent'\nfunction App() {\n  return (\n    <Provider store={store}>\n      <HashRouter>\n        <div className=\"App\">\n          <Route exact path={['/', '/:location']} component={WeatherContent}/>\n        </div>\n      </HashRouter>\n    </Provider>\n\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './res/css/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}